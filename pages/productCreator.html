<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Product JSON Creator</title>
  <style>
    body { font-family: sans-serif; max-width: 600px; margin: 2em auto; }
    label { display: block; margin-top: 1em; }
    input { width: 100%; }
    textarea { width: 100%; height: 120px; }
    .products-list { margin: 1em 0; }
    .products-list li { margin-bottom: 0.5em; }
  </style>
</head>
<body>
  <h1>Product JSON Creator</h1>
  <form id="productForm">
    <label>Link (href): <input type="text" id="href" required></label>
    <label>Image URL: <input type="text" id="img" required></label>
    <label>Alt Text: <input type="text" id="alt" required></label>
    <button type="submit">Add Product</button>
  </form>
  <h2>Products</h2>
  <ul class="products-list" id="productsList"></ul>
  <h2>JSON Output</h2>
  <textarea id="jsonOutput" readonly></textarea>
  <button id="downloadBtn">Download JSON</button>

  <script>
    const products = [];
    const form = document.getElementById('productForm');
    const list = document.getElementById('productsList');
    const output = document.getElementById('jsonOutput');
    const downloadBtn = document.getElementById('downloadBtn');

    function updateOutput() {
      output.value = JSON.stringify(products, null, 2);
      list.innerHTML = products.map((p, i) =>
        `<li>
          <b>${p.alt}</b> - <code>${p.img}</code> - <a href="${p.href}" target="_blank">${p.href}</a>
          <button onclick="removeProduct(${i})">Remove</button>
        </li>`
      ).join('');
    }

    window.removeProduct = function(i) {
      products.splice(i, 1);
      updateOutput();
    }

    form.addEventListener('submit', e => {
      e.preventDefault();
      products.push({
        href: form.href.value,
        img: form.img.value,
        alt: form.alt.value
      });
      form.reset();
      updateOutput();
    });

    downloadBtn.addEventListener('click', () => {
      const blob = new Blob([output.value], {type: 'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'products.json';
      a.click();
      URL.revokeObjectURL(url);
    });

    updateOutput();
  </script>
</body>
</html>
